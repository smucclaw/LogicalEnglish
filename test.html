<div id="solution"></div>
<script src="https://SWI-Prolog.github.io/npm-swipl-wasm/3/5/5/index.js"></script>
<script>
  (async () => {
    const swipl = await SWIPL({ arguments: ["-q"] });

    await swipl.prolog.load_string(`
      :- ['https://github.com/smucclaw/LogicalEnglish/raw/qlf-wasm/le_answer.qlf'].
    `);

    const le_prog = `
the target language is: prolog.

the templates are:
  p.

the knowledge base rules includes:
  p
  if 0 < 1.

query q is:
  p.
    `;

    const le_query = "q";

    // const query = "member(X, [a, b, c]).";
    const query = `
      le_answer:parse_and_query_and_explanation("test", en("${le_prog}"), ${le_query}, with(), Answer).
    `;

    const solutionElement = document.getElementById("solution");
    const firstSolution = swipl.prolog.query(query).once().X;
    solutionElement.textContent = firstSolution;
  })();
</script>